<style>
  .markets-utility-head-header-breadcrumb {
    display: flex;
    algin-items: center;
    gap: 8px;
  }

  .markets-utility-head-page-bg {
    width: 100%;
    height: fit-content;
    background-color: white;
  }

  .markets-utility-head-page {
    display: flex;
    flex-direction: column;
    /* padding: 0 157px 60px 144px; */
    max-width: 1520px;
    margin: 0 auto 60px;
    overflow: hidden;
    box-sizing: border-box;
  }

  .markets-utility-head-header {
    display: flex;
    flex-direction: column;
  }

  .markets-utility-head-header-breadcrumb a {
    display: flex;
    color: #000000de;
    font-weight: 400;
    font-size: 16px;
    gap: 8px;
    text-decoration: underline;
    cursor: pointer;
  }

  .markets-utility-head-header-breadcrumb a:last-child {
    text-decoration: unset;
  }

  .markets-utility-head-top {
    display: flex;
    gap: 87px;
    justify-content: space-between;
  }

  .markets-utility-head-top h1 {
    color: #0d0d0d;
    font-weight: 700;
    font-size: 40px;
    line-height: 48px;
  }

  .markets-utility-head-top-content {
    width: 100%;
    max-width: 1032px;
  }
  .markets-utility-head-top-content h1 {
    text-align: left;
  }

  .markets-utility-head-top-content p {
    margin-top: 16px;
    color: #0d0d0d;
    font-weight: 400;
    font-size: 16px;
    line-height: 24px;
  }

  .markets-utility-head-top-content img {
    margin-top: 32px;
    border-radius: 8px;
    overflow: hidden;
  }

  /* Navigations */
  .markets-utility-head-top-navigate {
    background-color: #ebebeb;
    padding: 0 24px 0 24px;
    border-radius: 12px;
    overflow: hidden;
    height: fit-content;
    width: 100%;
    max-width: 491px;
  }

  .markets-utility-head-top-navigate a {
    display: flex;
    align-items: center;
    width: 100%;
    gap: 8px;
    color: #003066;
    font-weight: 600;
    font-size: 16px;
    line-height: 24px;
    background-color: #ebebeb;
    padding: 16px 73px 16px 0;
    text-decoration: none;
    border-bottom: 1px solid #dbdbdb;
    white-space: nowrap;
  }

  .markets-utility-head-top-navigate a:first-child {
    padding: 24px 73px 16px 0;
  }

  .markets-utility-head-top-navigate a:hover {
    color: #007bff;
  }

  .markets-utility-head-bot {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    /* Center items horizontally */
    margin-top: 32px;
    gap: 8px;
  }

  .markets-utility-head-bot a {
    display: flex;
    flex-direction: column;
    gap: 32px;
    align-items: center;
    justify-content: center;
    color: #ffffff;
    font-weight: 600;
    font-size: 24px;
    line-height: 30px;
    background-color: #2c70b9;
    max-width: 374px;
    height: 280px;
    padding: 106px 144px 106px 144px;
    white-space: nowrap;
    text-decoration: none;
    border-radius: 4px;
  }

  /* Tablet View */
  @media (max-width: 1180px) {
    .markets-utility-head-page {
      padding: 0 32px 32px 32px;
    }

    .markets-utility-head-top {
      flex-direction: column;
      gap: 16px;
    }

    .markets-utility-head-top-navigate {
      max-width: 100%;
      height: auto;
      padding: 16px;
    }

    .markets-utility-head-bot {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 16px;
    }

    .markets-utility-head-bot > *:last-child {
      grid-column: span 3;
    }
    .markets-utility-head-bot a {
      max-width: 100%;
      height: auto;
      padding: 40px;
      font-size: 20px;
      line-height: 26px;
    }

    .markets-utility-head-top-navigate a {
      white-space: unset;
    }
  }

  @media (max-width: 820px) {
    .markets-utility-head-bot {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 20px;
      margin-top: 24px !important;
    }

    .markets-utility-head-bot > *:last-child {
      grid-column: span 2;
    }

    .markets-utility-head-bot a {
      width: 100%;
      padding: 30px;
      font-size: 18px;
      line-height: 24px;
    }
  }
  /* Mobile View */
  @media (max-width: 768px) {
    .markets-utility-head-page {
      padding: 0 12px 30px 12px;
    }

    .markets-utility-head-header a {
      flex-wrap: wrap;
      font-size: 14px;
    }

    .markets-utility-head-top {
      flex-direction: column;
      gap: 20px !important;
      margin-top: 24px;
    }

    .markets-utility-head-top-content {
      max-width: 100%;
    }

    .markets-utility-head-top-content h1 {
      font-size: 20px;
      line-height: 34px;
    }

    .markets-utility-head-top-content p {
      font-size: 16px;
      line-height: 20px;
    }

    .markets-utility-head-top-navigate {
      width: 100%;
      height: auto;
      padding: 12px;
    }

    .markets-utility-head-top-navigate a {
      font-size: 16px;
      padding: 12px 0;
    }

    .markets-utility-head-bot {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 20px;
      margin-top: 24px !important;
    }

    .markets-utility-head-bot > *:last-child {
      grid-column: span 2;
    }

    .markets-utility-head-bot a {
      width: 100%;
      padding: 30px;
      font-size: 18px;
      line-height: 24px;
    }

    .markets-utility-head-top-navigate {
      padding: 16px;
    }
    .markets-utility-head-top-navigate a {
      padding: 12px 0;
    }
    .markets-utility-head-top-navigate a:first-child {
      padding-top: 0;
    }
    .markets-utility-head-top-navigate a:last-child {
      padding-bottom: 0;
      border-bottom: none;
    }
  }

  @media (max-width: 425px) {
    .markets-utility-head-bot {
      display: flex;
      flex-direction: column;
      gap: 16px;
    }
    .markets-utility-head-top-content p {
      font-size: 14px;
    }
    .markets-utility-head-top-navigate a {
      font-size: 14px;
    }

    .markets-utility-head-page {
      margin: 0 auto 30px;
    }
    .markets-utility-head-top-content h1 {
      margin-top: 0;
    }

    .markets-utility-head-top {
      margin-top: 0;
    }
  }
</style>

<div class="markets-utility-head-page-bg ">
  {% render 'page-title', title: 'Utility' %}
  <div class="markets-utility-head-page container-width">
    <div class="markets-utility-head-header">
      {% render 'custom-breadcrumb', paths: 'Markets, Utility', urls: '/pages/market-shop' %}
    </div>
    <div class="markets-utility-head-top">
      <div class="markets-utility-head-top-content " id="product-information-content">
        <!-- content -->
      </div>
      <div class="markets-utility-head-top-navigate" id="markets-utility-head-top-navigate">
        <!-- content -->
      </div>
    </div>
    <div class="markets-utility-head-bot" id="markets-utility-head-bot">
      <!-- content -->
    </div>
  </div>
</div>

{% schema %}
{
  "name": "Markets Utility One",
  "settings": [
    {
      "type": "text",
      "id": "titleOne",
      "label": "Title 1",
      "default": "Utility"
    },
    {
      "type": "richtext",
      "id": "contentOne",
      "label": "Content 1",
      "default": "<p>Text here</p>"
    }
  ],
  "blocks": [
    {
      "type": "navigation",
      "name": "Navigation Menu",
      "settings": [
        {
          "type": "link_list",
          "id": "menu",
          "label": "Select a navigation menu"
        }
      ]
    },
    {
      "type": "category_block",
      "name": "Category Block",
      "settings": [
        { "type": "url", "id": "link", "label": "Link" },
        { "type": "image_picker", "id": "image", "label": "Image" },
        {
          "type": "text",
          "id": "title",
          "label": "Title"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Markets Utility One"
    }
  ]
}
{% endschema %}

<script>
  const contentContainer = document.getElementById('product-information-content');
  contentContainer.innerHTML = `
            <h1 class="title-section">{{ section.settings.titleOne }}</h1>
            {% if section.settings.contentOne != blank %}
              {{ section.settings.contentOne }}
            {% endif %}
`;

  const navigations = [];

    {% for block in section.blocks %}
    {% if block.type == 'navigation' %}
      {% for link in linklists[block.settings.menu].links %}
        navigations.push({
          link: "{{ link.url }}",
          label: "{{ link.title }}",
        });
      {% endfor %}
    {% endif %}
  {% endfor %}

  const navigateContainer = document.getElementById('markets-utility-head-top-navigate');

  navigations.forEach((item) => {
    const a = document.createElement('a');
    a.href = item.link || '#';
    a.className = 'navigate-link';

    const img = document.createElement('img');
    img.src = "{{ 'icon-curved-arrow.svg' | asset_url }}";
    img.alt = 'empty';
    img.width = 24;
    img.height = 24;

    const p = document.createElement('p');
    p.textContent = item.label;

    a.appendChild(img);
    a.appendChild(p);

    a.addEventListener('click', function (e) {
      e.preventDefault();

      const link = item.link;

      if (link.startsWith('/')) {
        window.location.href = link;
      } else {
        const targetId = link.replace('#', '');
        const targetElement = document.getElementById(targetId);

        if (targetElement) {
          const rect = targetElement.getBoundingClientRect();

          const scrollPosition = rect.top + window.pageYOffset - 350; 

          window.scrollTo({
            top: scrollPosition,
            behavior: 'smooth',
          });
        } else {
          console.warn('Target element not found for ID:', targetId);
        }
      }
    });

    navigateContainer.appendChild(a);
  });

  const categories = [];

{% for block in section.blocks %}
    {% if block.type == 'category_block' %}
        categories.push({
          link: "{{ block.settings.link }}",
        image: "{{  block.settings.image | image_url }}",
          label: "{{  block.settings.title }}",
        });
    {% endif %}
{% endfor %}

  const categoryContainer = document.getElementById('markets-utility-head-bot');

  categories.forEach((item) => {
    const a = document.createElement('a');
    a.href = item.link || '#';

    const img = document.createElement('img');
    img.src = item.image;
    img.alt = 'empty';
    img.width = 141.29;
    img.height = 120;

    const p = document.createElement('p');
    p.textContent = item.label;

    a.appendChild(img);
    a.appendChild(p);

    categoryContainer.appendChild(a);
  });
</script>
